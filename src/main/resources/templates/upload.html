<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{common::#header}"></head>
<body class="container">
<div class="with:80%">
  <div class="container" th:if="${message}">
    <h2 th:text="${message}"></h2>
  </div>
  <div class="container">
    <form method="POST" enctype="multipart/form-data" action="/upload">
      <table>
        <tr>
          <td>File to upload:</td>
          <td><input name="file" type="file"/></td>
        </tr>
        <tr>
          <td></td>
          <td><input type="submit" value="Upload"/></td>
        </tr>
      </table>
    </form>
  </div>
  <div class="container">
    <h2 class="text-center">List of Files</h2>
    <div th:if="${files.size() > 0}">
      <table class="table table-hover">
        <thead class="thead-light">
        <tr>
          <th scope="col">File Name</th>
          <th scope="col">Link</th>
          <th scope="col">Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="file : ${files}">
          <td>[[${file}]]</td>
          <td><a th:href="@{${file}}">Download</a></td>
          <td>
            <!--                        <a th:href="@{'/files/delete/' + ${file.name}}" th:fileName="${file.name}" id="btnDelete"-->
            <!--                           title="Delete this file" class="fa-regular fa-trash-can icon-dark btn-delete"></a>-->

            <a th:href="@{'/files/delete/' + ${file}}" th:fileName="${file}" id="btnDelete"
               title="Delete this file" class="fa-regular fa-trash-can icon-dark btn-delete"></a>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
    <div th:unless="${files?.size() > 0}">
      <span>No files found!</span>
    </div>
  </div>
</div>
<div th:replace="~{common::#bottom}"></div>
</body>
</html>